---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ONTAP: Snapmirror"
subcategory: "SnapMirror"
description: |-
  Snapmirror resource
---

# Resource Snapmirror

Create/Modify/Delete a snapmirror resource

### Related ONTAP commands
```commandline
* snapmirror create
* snapmirror modify
* snapmirror delete
```

## Supported Platforms
* On-perm ONTAP system 9.6 or higher
* Amazon FSx for NetApp ONTAP

~> **NOTE:** Amazon FSx for NetApp ONTAP is not supported

## Example Usage
```
# Create a snapmirror
resource "netapp-ontap_snapmirror_resource" "snapmirror" {
  # required to know which system to interface with
  cx_profile_name = "cluster1"
  source_endpoint = {
    path = "snapmirror_source_svm:snap"
  }
  destination_endpoint = {
    path = "snapmirror_dest_svm:snap_dest"
  }
}
```


<!-- schema generated by tfplugindocs -->
## Argument Reference

### Required

- `cx_profile_name` (String) Connection profile name
- `source_endpoint` (Attributes) (see [below for nested schema](#nestedatt--source_endpoint))
- `destination_endpoint` (Attributes) (see [below for nested schema](#nestedatt--destination_endpoint))

### Optional

- `create_destination` (String) Snapmirror privision destination.
- `initialize` (Boolean) Initializes the Snapmirror relationship. By default, it is set to 'true'.
- `policy` (Attributes) (see [below for nested schema](#nestedatt--policy))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--source_endpoint"></a>
### Nested Schema for `source_endpoint`

Required:

- `path` (String) Snapmirror source endpoint.

Optional:

- `cluster`  (Attributes) (see [below for nested schema](#nestedatt--cluster_source))

<a id="nestedatt--destination_endpoint"></a>
### Nested Schema for `destination_endpoint`

Required:

- `path` (String) Snapmirror destination endpoint.

Optional:

- `cluster`  (Attributes) (see [below for nested schema](#nestedatt--cluster_destination))


<a id="nestedatt--cluster_source"></a>
### Nested Schema for `cluster_source`

Optional:

- `name` (String) Snapmirror source cluster name

<a id="nestedatt--policy"></a>
### Nested Schema for `policy`

Optional:

- `name` (String) Snapmirror policy name

<a id="nestedatt--cluster_destination"></a>
### Nested Schema for `cluster_destination`

Optional:

- `name` (String) Snapmirror destination cluster name

## Import
This resource supports import, which allows you to import existing snapmirror into the state of this resource.
Import require a unique ID composed of the snapmirror destination path name and connection profile, separated by a comma.

id = `destination_path`,`cx_profile_name`

### Terraform Import

For example
```shell
 terraform import netapp-ontap_snapmirror_resource.example destination_path,cluster5
```
!> The terraform import CLI command can only import resources into the state. Importing via the CLI does not generate configuration. If you want to generate the accompanying configuration for imported resources, use the import block instead.

### Terrafomr Import Block
This requires Terraform 1.5 or higher, and will auto create the configuration for you

First create the block
```terraform
import {
  to = netapp-ontap_snapmirror_resource.snapmirror_import
  id = "destination_path,cluster4"
}
```
Next run, this will auto create the configuration for you
```shell
terraform plan -generate-config-out=generated.tf
```
This will generate a file called generated.tf, which will contain the configuration for the imported resource
```terraform
# __generated__ by Terraform
# Please review these resources and move them into your main configuration files.
# __generated__ by Terraform from "snapmirror_dest_svm:snap_dest2,cluster4"
resource "netapp-ontap_snapmirror_resource" "snapmirror_import" {
  cx_profile_name = "cluster4"
  create_destination = null
  destination_endpoint = {
    cluster = null
    path = "snapmirror_dest_svm:snap_dest2"
  }
  healthy = true
  id = "abcd"
  policy = null
  source_endpoint = null
  state = "snapmirrored"
}
```