---
page_title: "netapp-ontap_storage_aggregate_resource Resource - terraform-provider-netapp-ontap"
subcategory: "storage"
description: |-
  Aggregate resource
---

# Resource netapp-ontap_storage_aggregate_resource

Create/Modify/Delete an aggregate resource

## Example Usage

```terraform
# Create an aggregate
resource "netapp-ontap_storage_aggregate_resource" "example" {
  cx_profile_name = "cluster4"
  name = "test_aggr"
  node = "swenjun-vsim1"
  disk_count = 5
  disk_size = 1
  disk_size_unit= "gb"
  is_mirrored = false
  raid_type = "raid4"
  snaplock_type = "compliance"
  encryption = true
  state = "offline"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cx_profile_name` (String) Connection profile name
- `disk_count` (Number) Number of disks to place into the aggregate, including parity disks.
				The disks in this newly-created aggregate come from the spare disk pool.
				The smallest disks in this pool join the aggregate first, unless the disk_size argument is provided.
				Modifiable only if specified disk_count is larger than current disk_count.
				If the disk_count % raid_size == 1, only disk_count/raid_size * raid_size will be added.
				If disk_count is 6, raid_type is raid4, raid_size 4, all 6 disks will be added.
				If disk_count is 5, raid_type is raid4, raid_size 4, 5/4 * 4 = 4 will be added. 1 will not be added.
- `name` (String) The name of the aggregate to manage
- `node` (String) Node for the aggregate to be created on. If no node specified, mgmt lif home will be used. If disk_count is present, node name is required.

### Optional

- `disk_class` (String) Class of disk to use to build aggregate. capacity_flash is listed in swagger, but rejected as invalid by ONTAP.
- `disk_size` (Number) Disk size to use in 4K block size.  Disks within 10 precent of specified size will be used.
- `disk_size_unit` (String) Disk size to use in the specified unit. This is converted to bytes, assuming K=1024.
- `encryption` (Boolean) Whether to enable software encryption. This is equivalent to -encrypt-with-aggr-key when using the CLI.Requires a VE license.
- `is_mirrored` (Boolean) Specifies that the new aggregate be mirrored (have two plexes).
				If set to true, then the indicated disks will be split across the two plexes. By default, the new aggregate will not be mirrored.
- `raid_size` (Number) Sets the maximum number of drives per raid group.
- `raid_type` (String)
- `snaplock_type` (String) Type of snaplock for the aggregate being created.
- `state` (String) Whether the specified aggregate should be enabled or disabled. Creates aggregate if doesnt exist.

### Read-Only

- `id` (String) Aggregate identifier


